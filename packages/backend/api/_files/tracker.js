(()=>{const e=()=>+new Date,t=(e=[])=>e.reduce(((e,t)=>e+t),0);(async r=>{const{navigator:{language:n},location:{pathname:s,host:i},document:a,history:o}=r;let c=null,x=s;const l=Object.freeze({PAGE_VIEW:"pageView"}),u=a.querySelector("script[aurora-id]");if(!u)return!1;if(""===i)return!1;const g=u.getAttribute("src").replace("/tracker.js","/collect"),w=u.getAttribute("aurora-id"),d=async t=>{const r=(()=>{const t=JSON.parse(localStorage.getItem("_useAurora")),r=(()=>{const e=new Date;return e.setMinutes(e.getMinutes()-15)})();if(!t||t.expires<=+new Date){const t=e();return{uid:"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})),isNewVisitor:!0,isNewSession:!0,lastPageViewID:null,lastVisitAt:t}}return t.lastVisitAt<=+r&&(t.isNewSession=!0),t})();try{const e=await fetch(g,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:l.PAGE_VIEW,element:t,language:n,wid:w,referrer:a.referrer,...r})}),s=await e.json();r.lastPageViewID=s.id,c=s.id}catch(e){console.log("Err")}r.isNewVisitor=!1,r.isNewSession=!1,r.lastVisitAt=e(),(e=>{const t={...e,expires:+(()=>{const e=new Date;return new Date(e.getFullYear(),e.getMonth(),e.getDate(),24,0,0)})()};localStorage.setItem("_useAurora",JSON.stringify(t))})(r)};d(x);const p=((e=[])=>{let r=performance.now();return()=>{if("hidden"===a.visibilityState){e.push(performance.now()-r);const n=JSON.stringify({wid:w,duration:t(e)});navigator.sendBeacon(`${g}/${c}`,n)}else r=performance.now()}})();a.addEventListener("visibilitychange",p),o.pushState=(()=>{const e=o.pushState;return(...t)=>{const[,,r]=t;return r!==x&&(x=r,d(r)),e.apply(o,t)}})()})(window)})();